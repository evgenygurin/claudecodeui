#!/usr/bin/env node

/**
 * Real Component Extractor
 * –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å v0.app –∏—Å–ø–æ–ª—å–∑—É—è –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é
 */

const fs = require('fs');
const path = require('path');

class RealComponentExtractor {
  constructor() {
    this.baseDir = path.join(__dirname, '..');
    this.metadataFile = path.join(this.baseDir, 'collected-components', 'components-metadata.json');
    this.outputDir = path.join(this.baseDir, 'src', 'components', 'integrated');
    this.loadMetadata();
  }

  /**
   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   */
  loadMetadata() {
    if (fs.existsSync(this.metadataFile)) {
      this.components = JSON.parse(fs.readFileSync(this.metadataFile, 'utf8'));
    } else {
      console.error('‚ùå –§–∞–π–ª –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω');
      this.components = [];
    }
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è MCP Playwright
   */
  createPlaywrightInstructions() {
    const instructions = `
# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å v0.app

## –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MCP Playwright –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞.

## –®–∞–≥ 2: –ò–∑–≤–ª–µ—á—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
–î–ª—è –∫–∞–∂–¥–æ–≥–æ URL –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. –ù–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Open in" –∏–ª–∏ "View Code"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª

## –°–ø–∏—Å–æ–∫ URL –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:
${this.components.map(c => `- ${c.name}: ${c.url}`).join('\n')}

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: src/components/integrated/ui/
- Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: src/components/integrated/layout/
- Feature –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: src/components/integrated/features/
- Advanced –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: src/components/integrated/advanced/

## –ü—Ä–∏–º–µ—Ä –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://v0.app/community/toast-fLjYRXrijvp
2. –ù–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Open in"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫: src/components/integrated/ui/toast.tsx
`;

    const instructionsFile = path.join(
      this.baseDir,
      'scripts',
      'playwright-extraction-instructions.md'
    );
    fs.writeFileSync(instructionsFile, instructions);

    console.log('üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è MCP Playwright —Å–æ–∑–¥–∞–Ω—ã:', instructionsFile);
    return instructionsFile;
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç —à–∞–±–ª–æ–Ω –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
   */
  createManualExtractionTemplate() {
    const template = `
# –®–∞–±–ª–æ–Ω –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

\`\`\`tsx
// {component-name}.tsx
// –ò—Å—Ç–æ—á–Ω–∏–∫: {source-url}
// –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category}
// –°–ª–æ–∂–Ω–æ—Å—Ç—å: {complexity}

import React from 'react';
import { cn } from '@/lib/utils';

interface {ComponentName}Props {
  // –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–æ–ø—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  className?: string;
  children?: React.ReactNode;
}

export const {ComponentName}: React.FC<{ComponentName}Props> = ({ 
  className,
  children,
  ...props 
}) => {
  return (
    <div className={cn("component-base-styles", className)} {...props}>
      {children}
    </div>
  );
};

export default {ComponentName};
\`\`\`

## –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞

1. **–ò–º–ø–æ—Ä—Ç—ã**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ (@/...)
2. **–°—Ç–∏–ª–∏**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ cn() –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤
3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –î–æ–±–∞–≤—å—Ç–µ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
4. **–ü—Ä–æ–ø—Å—ã**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–ø—Å—ã (className, children)
5. **–≠–∫—Å–ø–æ—Ä—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∏ default —ç–∫—Å–ø–æ—Ä—Ç

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### UI Components (src/components/integrated/ui/)
- Button, Input, Card, Badge, Toast, Tabs
- –ü—Ä–æ—Å—Ç—ã–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Layout Components (src/components/integrated/layout/)
- Sidebar, Navigation, Header, Footer
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫–µ—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### Feature Components (src/components/integrated/features/)
- Chat, FileManager, Dashboard
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Advanced Components (src/components/integrated/advanced/)
- Complex UI, Animations, Integrations
- –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
`;

    const templateFile = path.join(this.baseDir, 'scripts', 'manual-extraction-template.md');
    fs.writeFileSync(templateFile, template);

    console.log('üìã –®–∞–±–ª–æ–Ω –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω:', templateFile);
    return templateFile;
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   */
  createBasicIntegratedComponents() {
    console.log('üîß –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...\n');

    const basicComponents = [
      {
        name: 'Toast',
        category: 'ui',
        description: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Å–æ–æ–±—â–µ–Ω–∏—è',
        props: {
          title: 'string',
          description: 'string',
          variant: '"default" | "destructive" | "success"',
          duration: 'number',
        },
      },
      {
        name: 'Button',
        category: 'ui',
        description: '–ö–Ω–æ–ø–∫–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏',
        props: {
          variant: '"default" | "destructive" | "outline" | "secondary" | "ghost" | "link"',
          size: '"default" | "sm" | "lg" | "icon"',
          disabled: 'boolean',
        },
      },
      {
        name: 'Card',
        category: 'ui',
        description: '–ö–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞',
        props: {
          variant: '"default" | "outlined" | "elevated"',
          padding: '"none" | "sm" | "md" | "lg"',
        },
      },
    ];

    basicComponents.forEach(component => {
      this.createComponentFile(component);
    });

    console.log('‚úÖ –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã!');
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   */
  createComponentFile(component) {
    const { name, category, description, props } = component;

    const componentCode = `// ${name}.tsx
// ${description}
// –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ v0.app

import React from 'react';
import { cn } from '@/lib/utils';

interface ${name}Props {
  className?: string;
  children?: React.ReactNode;
${Object.entries(props)
  .map(([key, type]) => `  ${key}?: ${type};`)
  .join('\n')}
}

export const ${name}: React.FC<${name}Props> = ({ 
  className,
  children,
${Object.keys(props)
  .map(key => `  ${key},`)
  .join('\n')}
  ...props 
}) => {
  return (
    <div 
      className={cn(
        "${name.toLowerCase()}-base-styles",
        className
      )} 
      {...props}
    >
      {children}
    </div>
  );
};

export default ${name};
`;

    const categoryDir = path.join(this.outputDir, category);
    if (!fs.existsSync(categoryDir)) {
      fs.mkdirSync(categoryDir, { recursive: true });
    }

    const filePath = path.join(categoryDir, `${name}.tsx`);
    fs.writeFileSync(filePath, componentCode);

    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: ${category}/${name}.tsx`);
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
   */
  createIndexFiles() {
    console.log('\nüìÅ –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...\n');

    const categories = ['ui', 'layout', 'features', 'advanced'];

    categories.forEach(category => {
      const categoryDir = path.join(this.outputDir, category);
      if (fs.existsSync(categoryDir)) {
        const files = fs
          .readdirSync(categoryDir)
          .filter(file => file.endsWith('.tsx'))
          .map(file => file.replace('.tsx', ''));

        if (files.length > 0) {
          const indexContent =
            files.map(file => `export { ${file} } from './${file}';`).join('\n') + '\n';

          const indexFile = path.join(categoryDir, 'index.ts');
          fs.writeFileSync(indexFile, indexContent);

          console.log(`‚úÖ –°–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å: ${category}/index.ts (${files.length} –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)`);
        }
      }
    });

    // –°–æ–∑–¥–∞–µ–º –≥–ª–∞–≤–Ω—ã–π –∏–Ω–¥–µ–∫—Å–Ω—ã–π —Ñ–∞–π–ª
    const mainIndexContent =
      categories.map(category => `export * from './${category}';`).join('\n') + '\n';

    const mainIndexFile = path.join(this.outputDir, 'index.ts');
    fs.writeFileSync(mainIndexFile, mainIndexContent);

    console.log('‚úÖ –°–æ–∑–¥–∞–Ω –≥–ª–∞–≤–Ω—ã–π –∏–Ω–¥–µ–∫—Å: index.ts');
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç —Ç–∏–ø—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   */
  createTypes() {
    console.log('\nüìù –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–≤...\n');

    const typesContent = `// integrated-components.ts
// –¢–∏–ø—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ v0.app

export interface BaseComponentProps {
  className?: string;
  children?: React.ReactNode;
}

export interface ToastProps extends BaseComponentProps {
  title?: string;
  description?: string;
  variant?: 'default' | 'destructive' | 'success';
  duration?: number;
}

export interface ButtonProps extends BaseComponentProps {
  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link';
  size?: 'default' | 'sm' | 'lg' | 'icon';
  disabled?: boolean;
  onClick?: () => void;
}

export interface CardProps extends BaseComponentProps {
  variant?: 'default' | 'outlined' | 'elevated';
  padding?: 'none' | 'sm' | 'md' | 'lg';
}

export interface ChatProps extends BaseComponentProps {
  messages?: Array<{
    id: string;
    content: string;
    role: 'user' | 'assistant';
    timestamp: Date;
  }>;
  onSendMessage?: (message: string) => void;
}

export interface FileManagerProps extends BaseComponentProps {
  files?: Array<{
    id: string;
    name: string;
    type: 'file' | 'folder';
    size?: number;
    modified: Date;
  }>;
  onFileSelect?: (file: any) => void;
  onFileUpload?: (file: File) => void;
}

export interface SidebarProps extends BaseComponentProps {
  items?: Array<{
    id: string;
    label: string;
    icon?: string;
    href?: string;
    onClick?: () => void;
  }>;
  collapsed?: boolean;
  onToggle?: () => void;
}

export interface DashboardProps extends BaseComponentProps {
  widgets?: Array<{
    id: string;
    title: string;
    type: 'chart' | 'metric' | 'table' | 'list';
    data?: any;
  }>;
  layout?: 'grid' | 'flex';
}

export interface AuthProps extends BaseComponentProps {
  mode?: 'login' | 'register' | 'forgot-password';
  onSubmit?: (data: any) => void;
  onModeChange?: (mode: string) => void;
}

export interface ElevenLabsProps extends BaseComponentProps {
  apiKey?: string;
  voiceId?: string;
  onAudioGenerated?: (audio: Blob) => void;
  onError?: (error: Error) => void;
}
`;

    const typesFile = path.join(this.baseDir, 'src', 'types', 'integrated-components.ts');
    fs.writeFileSync(typesFile, typesContent);

    console.log('‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–∏–ø—ã: src/types/integrated-components.ts');
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
   */
  createUtils() {
    console.log('\nüõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç...\n');

    const utilsContent = `// component-utils.ts
// –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

import { type ClassValue, clsx } from 'clsx';
import { twMerge } from 'tailwind-merge';

/**
 * –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –∫–ª–∞—Å—Å—ã Tailwind CSS
 */
export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

/**
 * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
 */
export function generateId(prefix: string = 'component'): string {
  return \`\${prefix}-\${Math.random().toString(36).substr(2, 9)}\`;
}

/**
 * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
 */
export function formatFileSize(bytes: number): string {
  if (bytes === 0) return '0 Bytes';
  
  const k = 1024;
  const sizes = ['Bytes', 'KB', 'MB', 'GB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  
  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}

/**
 * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞—Ç—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
 */
export function formatDate(date: Date): string {
  return new Intl.DateTimeFormat('ru-RU', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  }).format(date);
}

/**
 * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç email
 */
export function isValidEmail(email: string): boolean {
  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
  return emailRegex.test(email);
}

/**
 * –î–µ–±–∞—É–Ω—Å —Ñ—É–Ω–∫—Ü–∏—è
 */
export function debounce<T extends (...args: any[]) => any>(
  func: T,
  wait: number
): (...args: Parameters<T>) => void {
  let timeout: NodeJS.Timeout;
  
  return (...args: Parameters<T>) => {
    clearTimeout(timeout);
    timeout = setTimeout(() => func(...args), wait);
  };
}

/**
 * –¢—Ä–æ—Ç–ª–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏—è
 */
export function throttle<T extends (...args: any[]) => any>(
  func: T,
  limit: number
): (...args: Parameters<T>) => void {
  let inThrottle: boolean;
  
  return (...args: Parameters<T>) => {
    if (!inThrottle) {
      func(...args);
      inThrottle = true;
      setTimeout(() => inThrottle = false, limit);
    }
  };
}

/**
 * –ö–æ–ø–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
 */
export async function copyToClipboard(text: string): Promise<boolean> {
  try {
    await navigator.clipboard.writeText(text);
    return true;
  } catch (err) {
    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞:', err);
    return false;
  }
}

/**
 * –°–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª
 */
export function downloadFile(blob: Blob, filename: string): void {
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}
`;

    const utilsFile = path.join(this.baseDir, 'src', 'utils', 'component-utils.ts');
    fs.writeFileSync(utilsFile, utilsContent);

    console.log('‚úÖ –°–æ–∑–¥–∞–Ω—ã —É—Ç–∏–ª–∏—Ç—ã: src/utils/component-utils.ts');
  }

  /**
   * –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   */
  run() {
    console.log('üöÄ –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...\n');
    console.log('='.repeat(60));

    this.createPlaywrightInstructions();
    this.createManualExtractionTemplate();
    this.createBasicIntegratedComponents();
    this.createIndexFiles();
    this.createTypes();
    this.createUtils();

    console.log('\nüéØ –ë–ê–ó–û–í–ê–Ø –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê –°–û–ó–î–ê–ù–ê!');
    console.log('='.repeat(60));
    console.log('üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞:');
    console.log('  - src/components/integrated/ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)');
    console.log('  - src/types/integrated-components.ts (—Ç–∏–ø—ã)');
    console.log('  - src/utils/component-utils.ts (—É—Ç–∏–ª–∏—Ç—ã)');
    console.log('  - scripts/playwright-extraction-instructions.md (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)');
    console.log('  - scripts/manual-extraction-template.md (—à–∞–±–ª–æ–Ω)');

    console.log('\nüí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:');
    console.log('  1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MCP Playwright –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞');
    console.log('  2. –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞');
    console.log('  3. –î–æ–±–∞–≤—å—Ç–µ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—é');
    console.log('  4. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤');
    console.log('  5. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏');
  }
}

// –ó–∞–ø—É—Å–∫
if (require.main === module) {
  const extractor = new RealComponentExtractor();
  extractor.run();
}

module.exports = RealComponentExtractor;
