# FZF configuration for better file searching

# Use fd for file finding (faster than find)
export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git'

# Use ripgrep for content searching
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_ALT_C_COMMAND="fd --type d --hidden --follow --exclude .git"

# Preview options
export FZF_CTRL_T_OPTS="
  --preview 'bat --color=always --style=header,grid --line-range :300 {}'
  --bind 'ctrl-/:change-preview-window(down|hidden|)'
  --bind 'ctrl-y:execute-silent(echo {} | pbcopy)'
  --bind 'ctrl-e:execute(echo {} | xargs -o vim)'
"

# Alt-C options (directory search)
export FZF_ALT_C_OPTS="
  --preview 'tree -C {} | head -200'
  --bind 'ctrl-/:change-preview-window(down|hidden|)'
"

# Custom key bindings
export FZF_DEFAULT_OPTS="
  --height 40%
  --layout=reverse
  --border
  --inline-info
  --preview-window=:hidden
  --bind '?:toggle-preview'
  --bind 'ctrl-a:select-all'
  --bind 'ctrl-d:deselect-all'
  --bind 'ctrl-t:toggle-all'
  --bind 'alt-b:backward-word'
  --bind 'alt-f:forward-word'
  --bind 'ctrl-b:backward-char'
  --bind 'ctrl-f:forward-char'
  --bind 'ctrl-/:toggle-all'
  --bind 'ctrl-e:execute(echo {} | xargs -o vim)'
  --bind 'ctrl-v:execute(echo {} | xargs -o code)'
  --color=fg:#f8f8f2,bg:#282a36,hl:#bd93f9
  --color=fg+:#f8f8f2,bg+:#44475a,hl+:#bd93f9
  --color=info:#ffb86c,prompt:#50fa7b,pointer:#ff79c6
  --color=marker:#ff79c6,spinner:#ffb86c,header:#6272a4
"
